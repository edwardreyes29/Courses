<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script>

    //** Let **
    let camper = 'James';
    // let camper = 'bonds'
    // 'use strict'; --> doesn't work
    // x = 3.14;
    // console.log(x)



    /* by the time printNumTwo is assign the function that returns i, 
       it still finishes its loop, returning i when it equals 3 when 
       incremented in the for loop for the last time
    */

    // var printNumTwo;
    // for (var i = 0; i < 3; i++) {
    //     if (i === 2) {
    //         printNumTwo = function() { 
    //             return i;
    //         };
    //     }
    // }
    // console.log(printNumTwo);
    // console.log(printNumTwo());

    /*
        printNumTwo() returned the correct value b/c three different i variables w/ unique values
        (0,1,and 2) were created by the let keyword within the loop statement
    */
    'use strict';
    let printNumTwo;
    for (let i = 0; i < 3; i++) {
        console.log(i);
        if (i === 2) {
            printNumTwo = function () {
                console.log(`${i} in the function`);
                return i;
            }
        }
    }

    console.log(printNumTwo());
    // console.log(i); // not defined, not declared in global scope


    const s = [5, 7, 2];
    function editInPlace() {
        'use strict';
        s[0] = 2;
        s[1] = 5;
        s[2] = 7;
    }
    editInPlace();
    console.log(s);

    //** Arrow function **
    var magic = function () {
        'use strict';
        return new Date();
    };

    console.log(magic());

    var magic = () => new Date();
    console.log(magic());

    // var magic = () => new Date();


    //** Arrow function with args. **
    const myConcat = (arr1, arr2) => arr1.concat(arr2);

    console.log("arrow function with args: " + myConcat([1, 2], [3, 4, 5]));
    // result => [1, 2, 3, 4, 5]


    //** Default Parameters for functions **
    const increment = (number, value = 1) => number + value;
    console.log(increment(5));
    console.log(increment(5, 2));

    // ** Rest Parameters w/ Function Parameters ** 
    function howMany(...args) {
        return "You have passed " + args.length + " arguments.";
    }
    console.log(howMany(0, 1, 2));

    /* 
        reducer syntax:
            const reducer = (accumulator, currenValue) => accumulator + currentValue;

        // 1 + 2 + 3 + 4 if array1 = [1, 2, 3, 4]
        array1.reduce(reducer);

        // 5 + 1 + 2 + 3 + 4
        array1.reduce(reducer, 5);
    */
    const sum = (...args) => args.reduce((a, b) => a + b, 0);
    console.log("The sum is " + sum(1, 2, 3, 5, 6, 7, 8, 9));

    // Destructuring Assignment to Extract Values from Objects 
    const HIGH_TEMPERATURES = {
        yesterday: 75,
        today: 77,
        tomorrow: 80
    };

    const { today, tomorrow } = HIGH_TEMPERATURES;
    console.log(today);
    console.log(tomorrow);

    const { today: highToday, tomorrow: highTomorrow } = HIGH_TEMPERATURES;
    console.log(highToday);
    console.log(highTomorrow);

    // Destructuring Nested objects.
    const LOCAL_FORECAST = {
        yesterday: { low: 61, high: 75 },
        today: { low: 64, high: 77 },
        tomorrow: { low: 68, high: 80 }
    };

    const { yesterday: { low: lowYesterday, high: highYesterday } } = LOCAL_FORECAST;
    console.log(`Yesterday's low: ${lowYesterday}`);
    console.log(`Yesterday's high: ${highYesterday}`);


    // Destructuring Arrays 
    let a = 8, b = 6;
    [a, b] = [b, a];
    console.log(`a: ${a}`);
    console.log(`b: ${b}`);

    // Use Destructuring Assignment with Rest Parameter
    const source = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    function removeFirstTwo(list) {
        'use strict';
        const [a, b, ...arr] = list;
        return arr;
    }

    const arr = removeFirstTwo(source);
    console.log(arr);

    // Use Destructuring Assignment to Pass an Object as a Function's Parameters
    const stats = {
        max: 56.78,
        standard_deviation: 4.34,
        median: 34.54,
        mode: 23.87,
        min: -0.75,
        average: 35.85
    };

    const half = ({ max, min }) => (max + min) / 2.0;
    console.log(half(stats));

    // ES6 Declarative functions

    // Only change code below this line
    const bicycle = {
        gear: 2,
        setGear(newGear) {
            this.gear = newGear;
        }
    };
    // Only change code above this line
    bicycle.setGear(3);
    console.log(bicycle.gear);

    // Classes 
    class Thermostat {
        constructor(temperature) {
            this._temperature = temperature;
        }
        // getter
        get temperature() {
            return 5 / 9 * (this._temperature - 32);
        }
        // setter
        set temperature(updatedTemp) {
            this._temperature = updatedTemp * 9.0 / 5 + 32;
        }
    }
    const thermos = new Thermostat(76);
    let temp = thermos.temperature;
    console.log(temp);
    thermos.temperature = 26;
    temp = thermos.temperature;
    console.log(temp);

    // Promise -> then -> catch

    const makeServerRequest = new Promise((resolve, reject) => {
        // responseFromServer is set to true to represent a successful response from a server
        let responseFromServer = true;

        if (responseFromServer) {
            resolve("We got the data");
        } else {
            reject("Data not received");
        }
    });

    makeServerRequest.then(result => {
        console.log(result);
    })

    makeServerRequest.catch(error => {
        console.log(error);
    })

    // REVIEW: callback function example
    function greeting(name) {
        alert('Hello ' + name);
    }

    function processUserInput(callback) {
        var name = prompt('Please enter your name.');
        callback(name);
    }

    processUserInput(greeting);

</script>
<script type="module" src="math.js">// Module-level scope</script>
<script type="module">
    // Module
    console.log("From math.js:")
    import { add, subtract, multiply, divide } from './math.js';

    console.log(add(4, 5));
    console.log(multiply(4, 5));

    console.log("math.js // end")
</script>

<body>

</body>

</html>